:root{
  --bg:#0b0f1a;
  --ink:#f7f1e1;
  --muted:#cfc7b2;
  --gold:#ffcf6a;
  --accent:#ff9f43;
  --panel:rgba(255,255,255,.06);
  --panel-b:rgba(255,255,255,.14);
  --shadow:rgba(0,0,0,.45);
}

*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
  background: var(--bg);
  color: var(--ink);
  font-family: "Noto Serif Bengali","SolaimanLipi","Nikosh",system-ui,serif;
  overflow:hidden;
}

/* Background canvases */
.bg-canvas,.fx-canvas{
  position:fixed; inset:0; width:100%; height:100%;
  z-index:0; pointer-events:none;
}

/* App layer */
.app{ position:relative; z-index:1; height:100%; display:grid; place-items:center; }

/* Screens */
.screen{
  position:absolute; inset:0;
  display:grid; place-items:center;
  padding:min(4vh,32px) min(4vw,28px);
  opacity:0; transform: translateY(10px) scale(.985);
  transition: opacity .5s ease, transform .5s ease;
}
.screen.active{ opacity:1; transform: translateY(0) scale(1); }
.screen[hidden]{ display:none; }

.wrap{ width:min(92vw, 760px); position:relative; }

/* Title */
.title{
  margin:0 0 8px 0; text-align:center;
  font-size: clamp(36px, 8vw, 64px);
  background: linear-gradient(90deg,#ffd899,#fff1c9,#ffd899);
  -webkit-background-clip:text; background-clip:text; color:transparent;
  text-shadow: 0 2px 22px rgba(255,220,140,.12);
}
.sub{ margin:.2rem 0 1.2rem; text-align:center; color:var(--muted); }

/* Form */
.form{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap; }
.input{
  flex:1 1 280px; max-width:420px; height:50px;
  border-radius:14px; padding:0 14px; border:1px solid var(--panel-b);
  background: rgba(255,255,255,.08); color:var(--ink);
  outline:none; box-shadow: inset 0 2px 6px rgba(0,0,0,.35);
}
.input:focus{ border-color: var(--gold); }

.btn{
  height:50px; padding:0 16px; border-radius:14px;
  border:1px solid var(--panel-b); cursor:pointer; user-select:none;
  color:#1b1307; transition: transform .12s ease, box-shadow .12s ease, opacity .2s ease;
  box-shadow: 0 10px 26px rgba(0,0,0,.35);
}
.btn.primary{
  background: linear-gradient(180deg, #ffd899, #ffb24f);
  border-color:#ffd899;
}
.btn.subtle{
  color:var(--muted);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border-color: rgba(255,255,255,.18);
}
.btn:hover{ transform: translateY(-1px) scale(1.01); }
.btn:active{ transform: translateY(1px) scale(.99); }

/* Headline */
.hello{
  margin:.2rem 0 .8rem; text-align:center;
  font-size: clamp(22px, 5.2vw, 34px);
}
.bijoya{ color:var(--gold); text-shadow:0 0 10px rgba(255,210,90,.35); }

/* Halo behind content */
.halo{
  position:absolute; inset:auto; top:8%; left:50%; transform:translateX(-50%);
  width:min(90vmin, 720px); height:min(90vmin, 720px); border-radius:50%;
  background: radial-gradient(closest-side, rgba(255,220,140,.10), rgba(255,220,140,0) 70%);
  filter: blur(4px);
  animation: haloPulse 3.2s ease-in-out infinite alternate;
  z-index:0;
}
@keyframes haloPulse{ from{ transform:translateX(-50%) scale(.98) } to{ transform:translateX(-50%) scale(1.04) } }

/* Card with pop-in and glow */
.card{
  position:relative; z-index:1;
  width:min(92vw, 760px);
  margin: 10px auto 0;
  background: var(--panel);
  border:1px solid var(--panel-b);
  border-radius:18px;
  padding: min(3vh,22px) min(3vw,22px);
  backdrop-filter: blur(6px);
  box-shadow: 0 18px 40px var(--shadow), 0 0 0 8px rgba(255,255,255,.02) inset;
  transform-style: preserve-3d;
}
.pop-in{
  animation: popIn .7s cubic-bezier(.2,.9,.2,1) both;
}
@keyframes popIn{
  0%{ transform: translateY(12px) scale(.96) rotateX(6deg); opacity:0 }
  60%{ transform: translateY(-2px) scale(1.02) rotateX(0deg); opacity:1 }
  100%{ transform: translateY(0) scale(1) }
}

/* Floating glints */
.glints::before, .glints::after{
  content:""; position:absolute; inset:0; pointer-events:none;
  background:
    radial-gradient(6px 6px at 20% 30%, rgba(255,220,140,.22), transparent 60%),
    radial-gradient(5px 5px at 80% 60%, rgba(255,220,140,.18), transparent 60%),
    radial-gradient(4px 4px at 60% 20%, rgba(255,220,140,.16), transparent 60%);
  animation: glintFloat 6s ease-in-out infinite alternate;
  filter: blur(.3px);
}
.glints::after{ animation-duration: 7.5s; opacity:.7 }
@keyframes glintFloat{
  from{ transform: translateY(-8px) }
  to{ transform: translateY(8px) }
}

/* Wish text with typewriter + shimmer */
.wish{
  text-align:center; font-size: clamp(20px, 4.6vw, 26px);
  line-height:1.65; text-shadow: 0 2px 6px rgba(0,0,0,.25);
  min-height: 2.8em; margin: 6px auto 0; max-width: 720px;
}
.wish-type{
  position:relative; white-space: pre-wrap; overflow:hidden;
}
.wish-type::after{
  content:""; display:inline-block; width:10px; height:1.2em; margin-left:6px;
  background: var(--gold); animation: caret .85s steps(1,end) infinite;
  vertical-align: middle;
}
@keyframes caret{ 50%{ opacity:0 } }

/* Shine sweep after typing completes */
.wish.shine{
  background: linear-gradient(90deg, #ffe9b8 0%, #ffffff 20%, #ffe9b8 40%, #ffd899 60%, #ffe9b8 100%);
  -webkit-background-clip:text; background-clip:text; color:transparent;
  animation: sweep 1.1s ease forwards;
}
@keyframes sweep{
  from{ background-position:-120% 0; }
  to{ background-position:120% 0; }
}

/* Actions */
.actions{ display:flex; gap:10px; justify-content:center; margin-top:14px; }

/* Mobile */
@media (max-width:480px){
  .input{ flex:1 1 100%; max-width:unset; }
}
